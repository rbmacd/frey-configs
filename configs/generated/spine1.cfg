! Device: spine1
! Generated: 2025-11-06T15:41:25Z
! Role: network-device
!
!
! Hostname
hostname spine1
!
! DNS Configuration
ip name-server vrf default 10.0.0.50
ip name-server vrf default 10.0.0.51
!
! NTP Configuration
ntp server 10.0.0.100
ntp server 10.0.0.101
!
! Timezone
clock timezone UTC
!
! Banner - Customized by device role
banner motd
*****************************************
* Unauthorized access is prohibited
* All activity is logged and monitored
*****************************************
EOF
!
! SNMP Configuration
!
! Logging
logging host 10.0.0.200
logging buffered 10000
!
! Users
username admin privilege 15 role network-admin secret sha512 $6$wI/1gZmxd5NNx0tI$vFwxFGzNYqKapXy5Pjf4wYmFX2mXb58fFa3hRF3KWyAUQXtpeZHfFs8kMrCCzWIB6VjXSqMKX8tUKNWbJyDqQ.
!
! AAA
aaa authorization exec default local
!
interface Management0
   description Management Interface
   ip address 172.20.20.2/24
!
ip route 0.0.0.0/0 172.20.20.1
!
! AAA
aaa authorization exec default local
!
! Enable IP routing
ip routing
!
!
! VLAN Configuration

!
!
! Physical Interfaces
! Note: This template expects interface data from NetBox or Ansible inventory
! If using NetBox, interfaces are typically available via the 'interfaces' variable from dynamic inventory

! If config_context has interfaces (alternate structure)

!
!
! VXLAN Configuration

!
!
! BGP Configuration

! BGP Loopback (Router ID)
interface Loopback0
   description BGP Router ID
   ip address 10.255.255.1/32
!

! Prefix lists (must be defined before route-maps)

! Route-map for BGP (defined after prefix-lists)

! BGP Configuration
router bgp 65000
   router-id 10.255.255.1
      maximum-paths 4
         maximum-paths 4 ecmp 4
         !
   ! Peer Groups
         neighbor SPINE_UNDERLAY peer group
               neighbor SPINE_UNDERLAY send-community extended
         !
      neighbor EVPN_OVERLAY peer group
         neighbor EVPN_OVERLAY update-source Loopback0
         neighbor EVPN_OVERLAY ebgp-multihop 2
         neighbor EVPN_OVERLAY send-community extended
         !
         !
   ! Underlay BGP Neighbors
   ! Note: For underlay neighbors to work, add "ip" field to each neighbor in config_context
   ! Example: {"ip": "10.0.0.0", "peer_group": "LEAF_UNDERLAY", "remote_as": 65000}
            neighbor 10.0.0.1 peer group SPINE_UNDERLAY
   neighbor 10.0.0.1 remote-as 65100
      neighbor 10.0.0.1 description leaf1
               neighbor 10.0.1.1 peer group SPINE_UNDERLAY
   neighbor 10.0.1.1 remote-as 65101
      neighbor 10.0.1.1 description leaf2
               !
      !
      !
      !
   ! EVPN Configuration
   address-family evpn
                  neighbor 10.255.255.101 activate
            neighbor 10.255.255.101 encapsulation vxlan
                  neighbor 10.255.255.102 activate
            neighbor 10.255.255.102 encapsulation vxlan
                           !

!
end