! Device: leaf2
! Generated: 2025-10-31T17:04:06Z
! Role: network-device
!
!
! Hostname
hostname leaf2
!
! DNS Configuration
ip name-server vrf default 10.0.0.50
ip name-server vrf default 10.0.0.51
!
! NTP Configuration
ntp server 10.0.0.100
ntp server 10.0.0.101
!
! Timezone
clock timezone UTC
!
! Banner - Customized by device role
banner motd
*****************************************
* Unauthorized access is prohibited
* All activity is logged and monitored
*****************************************
EOF
!
! SNMP Configuration
!
! Logging
logging host 10.0.0.200
logging buffered 10000
!
! Users
username admin privilege 15 role network-admin secret admin
!
! AAA
aaa authorization exec default local
!
! Management Interface
interface Management1
   description Management Interface
   vrf default
   ip address 172.20.20.5/24
!
!
!
! VLAN Configuration
vlan 10
   name VLAN10
!
vlan 20
   name VLAN20
!
vlan 30
   name VLAN30
!

!
!
! Physical Interfaces

!
!
! VXLAN Configuration

! Loopback for VTEP
interface Loopback1
   description VTEP Loopback
   ip address 10.255.255.102/32
!

! VXLAN interface
interface Vxlan1
   description VXLAN Tunnel Interface
      vxlan source-interface Loopback1
         vxlan udp-port 4789
            vxlan vlan 10 vni 10010
      vxlan vlan 20 vni 10020
      vxlan vlan 30 vni 10030
         !

!
!
! BGP Configuration

! BGP Loopback (if different from VTEP)
interface Loopback0
   description BGP Router ID
   ip address 10.255.255.102/32
!

! Prefix lists (must be defined before route-maps)

! Route-map for BGP (defined after prefix-lists)

! BGP Configuration
router bgp 65101
   router-id 10.255.255.102
      maximum-paths 4
         maximum-paths 4 ecmp 4
         !
         neighbor LEAF_UNDERLAY peer group
      neighbor LEAF_UNDERLAY remote-as external
               neighbor LEAF_UNDERLAY send-community extended         !
      neighbor EVPN_OVERLAY peer group
      neighbor EVPN_OVERLAY remote-as external
         neighbor EVPN_OVERLAY update-source Loopback0
         neighbor EVPN_OVERLAY ebgp-multihop 3
         neighbor EVPN_OVERLAY send-community extended         !
         !
      !
      !
      !
      !
   ! EVPN Configuration
   address-family evpn
                  neighbor 10.255.255.1 activate
            neighbor 10.255.255.1 encapsulation vxlan
                  neighbor 10.255.255.2 activate
            neighbor 10.255.255.2 encapsulation vxlan
                           !

!
end